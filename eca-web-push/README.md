Модуль eca-web-push
========================================

Описание
----------------------------------------
   Данный модуль предоставляет следующий функционал:

1. REST API для работы с центром уведомлений пользователя.
2. REST API для отправки web - пушей с помощью web - сокетов.

Пуши могут быть следующих видов:

1) Простые системные, например изменение статуса заявки.
2) Пользовательские пуши

Необходимый софт
----------------------------------------
* Openjdk 1.11
* maven >= 3.3.9
* База данных PostgreSQL для хранения информации.

Описание ключевой конфигурации модуля
----------------------------------------
Настройки для проекта находятся в файле application.yml. Ниже приведены основные параметры:
1) spring.datasource - настройки БД для хранения информации
2) app — основные настройки модуля:
   * app.notificationLifeTimeDays - время жизни уведомления для пользователя (в днях)
   * app.pushTokenValidityMinutes - время жизни токена для пуш уведомлений
   * app.encrypt.password - пароль для алгоритма генерации ключа PBKDF2WithHmacSHA1
   * app.encrypt.salt - соль для алгоритма генерации ключа PBKDF2WithHmacSHA1
3) queues - настройки очередей для веб - сокетов
    * pushQueue - название очереди для отправки пушей
4) open-api - настройки Swagger
   * open-api.tokenBaseUrl - базовый url - сервера авторизации
   * open-api.projectVersion - версия API
   * open-api.title - краткое название API
   * open-api.description - описание API
   * open-api.author - автор
   * open-api.email - email для связи
   * open-api.basePath - базовый префикс для API
   * open-api.apiAuth - настройки авторизации
   * open-api.apiAuth.scopes - список scopes
5) auth-server - настройки интеграции с eca-oauth
   * baseUrl - базовый url eca-oauth
   * clientId - идентификатор клиента
   * clientSecret - пароль клиента
6) logging.mode - режим логирования
   * text - текстовый формат
   * json - логи в формате json
    
Инструкция по развертыванию
----------------------------------------
       
1. Собрать проект с помощью системы сборки проекта maven. Ниже приведен пример команды:

   mvn clean install
   
2. Запустить проект с помощью команды:

    java -jar /target/eca-web-push.war

   
