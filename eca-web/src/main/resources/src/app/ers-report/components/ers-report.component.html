<p-dialog
  [(visible)]="visible"
  header="Статистика запросов в ERS"
  width="700"
  appendTo="body"
  [modal]="true"
  [blockScroll]="false"
  [draggable]="false"
  [resizable]="false"
  (onHide)="hide()">

  <div class="ui-g">
    <div class="ui-g-6 text-right text-bold text-wrap">
      UUID эксперимента:
    </div>
    <div class="ui-g-6 text-left text-wrap text-bold">
      {{ getExperimentUuid() }}
    </div>
  </div>

  <div class="ui-g">
    <div class="ui-g-6 text-right text-bold text-wrap">
      Число запросов в ERS на сохранение классификаторов:
    </div>
    <div class="ui-g-6 text-left text-wrap">
      {{ getRequestsCount() }}
    </div>
  </div>

  <div class="ui-g">
    <div class="ui-g-6 text-right text-bold text-wrap">
      Число успешно сохраненных классификаторов:
    </div>
    <div class="ui-g-6 text-left text-wrap">
      {{ getSuccessfullySavedClassifiers() }}
    </div>
  </div>

  <div class="ui-g">
    <div class="ui-g-6 text-right text-bold text-wrap">
      Число неудачных запросов:
    </div>
    <div class="ui-g-6 text-left text-wrap">
      {{ getFailedRequestsCount() }}
    </div>
  </div>

  <div class="ui-g">
    <div class="ui-g-12 text-center text-wrap">
      <ng-container [ngSwitch]="getErsReportStatus()">
        <ng-container *ngSwitchCase="'SUCCESS_SENT'">
          <div class="text-success">
            Результаты эксперимента были успешно отправлены в ERS сервис
          </div>
        </ng-container>
        <ng-container *ngSwitchCase="'EXPERIMENT_IN_PROGRESS'">
          <div class="text-info">
            Эксперимент находится в обработке...
          </div>
        </ng-container>
        <ng-container *ngSwitchCase="'EXPERIMENT_ERROR'">
          <div class="text-danger">
            Невозможно отправить результаты эксперимента в ERS сервис. В ходе построения эксперимента возникла ошибка
          </div>
        </ng-container>
        <ng-container *ngSwitchCase="'EXPERIMENT_DELETED'">
          <div class="text-danger">
            Невозможно отправить результаты эксперимента в ERS сервис. Результаты эксперимента были удалены
          </div>
        </ng-container>
        <ng-container *ngSwitchCase="'NEED_SENT'">
          <div class="text-info">
            Необходимо отправить результаты эксперимента в ERS сервис
          </div>
        </ng-container>
        <ng-container *ngSwitchDefault>
        </ng-container>
      </ng-container>
    </div>
  </div>

  <p-footer>
    <button
      pButton
      label="Отправить запрос"
      type="button"
      [disabled]="!canSent()"
      (click)="sentEvaluationResults()"
      class="ml-auto">
    </button>
  </p-footer>
</p-dialog>
